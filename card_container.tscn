[gd_scene load_steps=33 format=3 uid="uid://c6jjwbvxya6kn"]

[ext_resource type="Texture2D" uid="uid://51gd3lsae7uj" path="res://CardImages/spr_clubs_10.png" id="2_w2lag"]
[ext_resource type="Texture2D" uid="uid://dbppu0wucuj1r" path="res://CardImages/spr_diamonds_10.png" id="3_pk6qa"]
[ext_resource type="Texture2D" uid="uid://dgp1yve0csph2" path="res://CardImages/spr_hearts_10.png" id="4_j2gx0"]
[ext_resource type="Texture2D" uid="uid://b303641hkt5wv" path="res://CardImages/spr_spades_10.png" id="5_wr6fc"]
[ext_resource type="Texture2D" uid="uid://cw7y6tc6ih46l" path="res://CardImages/spr_hearts_4.png" id="6_rfmhh"]
[ext_resource type="Texture2D" uid="uid://bcxx83cqho5fy" path="res://CardImages/spr_clubs_A.png" id="6_utepw"]
[ext_resource type="Texture2D" uid="uid://bqn2o66s6jdyx" path="res://CardImages/spr_spades_4.png" id="7_hnh0c"]
[ext_resource type="Texture2D" uid="uid://bk3awuy5uibiv" path="res://CardImages/spr_hearts_6.png" id="8_7vpre"]
[ext_resource type="Texture2D" uid="uid://sw8yy8vikdi4" path="res://CardImages/spr_spades_6.png" id="9_owiqh"]
[ext_resource type="Texture2D" uid="uid://b4y0sppbd0swe" path="res://CardImages/spr_clubs_9.png" id="10_3lg3j"]
[ext_resource type="Texture2D" uid="uid://b3hd3vi0suyg" path="res://CardImages/spr_diamonds_9.png" id="11_u5doo"]
[ext_resource type="Texture2D" uid="uid://dnrmgwcmciyjt" path="res://CardImages/spr_hearts_9.png" id="12_lux8x"]
[ext_resource type="Texture2D" uid="uid://cye34e4ovm8ka" path="res://CardImages/spr_spades_9.png" id="13_slec5"]
[ext_resource type="Texture2D" uid="uid://dsj2vvvjy3m70" path="res://CardImages/spr_diamonds_A.png" id="15_oge3m"]
[ext_resource type="Texture2D" uid="uid://ci0q0bgbd2poq" path="res://CardImages/spr_hearts_a.png" id="16_nywsk"]
[ext_resource type="Texture2D" uid="uid://c63ixsdnylo2c" path="res://CardImages/spr_spades_A.png" id="17_n0q6h"]
[ext_resource type="Texture2D" uid="uid://c73htlw84a4qt" path="res://CardImages/spr_card_back.png" id="18_unmhq"]
[ext_resource type="Texture2D" uid="uid://de0rxjanh42sg" path="res://CardImages/spr_clubs_J.png" id="19_l4haj"]
[ext_resource type="Texture2D" uid="uid://belocf2ydu4ry" path="res://CardImages/spr_diamonds_J.png" id="20_orcw1"]
[ext_resource type="Texture2D" uid="uid://djan4gek7o4dt" path="res://CardImages/spr_hearts_J.png" id="21_5mnos"]
[ext_resource type="Texture2D" uid="uid://do1stwtd7heqh" path="res://CardImages/spr_spades_J.png" id="22_gqm8b"]
[ext_resource type="Texture2D" uid="uid://bw4h4ptc5sk17" path="res://CardImages/spr_clubs_K.png" id="23_2xxol"]
[ext_resource type="Texture2D" uid="uid://b55rr8mtq1m5s" path="res://CardImages/spr_diamonds_K.png" id="24_oo0ci"]
[ext_resource type="Texture2D" uid="uid://dxrh0w3wdu13n" path="res://CardImages/spr_hearts_K.png" id="25_h0nuh"]
[ext_resource type="Texture2D" uid="uid://cngg33nchw7fd" path="res://CardImages/spr_spades_K.png" id="26_kr1p3"]
[ext_resource type="Texture2D" uid="uid://ccihyydocf8y8" path="res://CardImages/spr_clubs_Q.png" id="27_6wmhi"]
[ext_resource type="Texture2D" uid="uid://c0uxwpsjt4scs" path="res://CardImages/spr_diamonds_Q.png" id="28_41dqg"]
[ext_resource type="Texture2D" uid="uid://cnhrb04yggu6d" path="res://CardImages/spr_hearts_Q.png" id="29_cf7gi"]
[ext_resource type="Texture2D" uid="uid://weietwvcugfd" path="res://CardImages/spr_spades_Q.png" id="29_ju0li"]

[sub_resource type="GDScript" id="GDScript_1fx5e"]
script/source = "extends StaticBody2D

const Enums = preload(\"res://CommonScripts/enums.gd\")

@export var suit = Enums.Suits.CLUBS
@export var rank = Enums.Ranks.ACE

signal discard
signal play
signal select_card

var _suits = [\"spades\", \"clubs\", \"hearts\", \"diamonds\"] # Same order as enum
var _ranks = [\"9\", \"10\", \"j\", \"q\", \"k\", \"a\"]
# Set the animation based on the suit and rank vars.
func flipUpCard():
	var anim = _ranks[rank] + \"_\" + _suits[suit]
	$AnimatedSprite2D.animation = anim
	
func flipDownCard():
	$AnimatedSprite2D.animation = \"card_back\"
	
func setCardSprite(animationName):
	$AnimatedSprite2D.animation = animationName

func printCard():
	var anim = _ranks[rank] + \"_\" + _suits[suit]
	print(anim)
func toString():
	return _ranks[rank] + \"_\" + _suits[suit]
func _to_string():
	return _ranks[rank] + \"_\" + _suits[suit]
	
# Called when the node enters the scene tree for the first time.
func _ready():
	pass # Replace with function body.

# Called every frame. 'delta' is the elapsed time since the previous frame.
func _process(delta):
	pass

func _on_mouse_entered():
	pass


func _on_input_event(viewport, event, shape_idx):
	if event is InputEventMouseButton:
		if event.button_index == 1 and event.is_pressed():
			select_card.emit(self)
		elif event.button_index == 1 and not event.is_pressed():
			print(\"unclicked\")
"

[sub_resource type="SpriteFrames" id="SpriteFrames_c8te1"]
animations = [{
"frames": [{
"duration": 1.0,
"texture": ExtResource("2_w2lag")
}],
"loop": true,
"name": &"10_clubs",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": ExtResource("3_pk6qa")
}],
"loop": true,
"name": &"10_diamonds",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": ExtResource("4_j2gx0")
}],
"loop": true,
"name": &"10_hearts",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": ExtResource("5_wr6fc")
}],
"loop": true,
"name": &"10_spades",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": ExtResource("6_rfmhh")
}],
"loop": true,
"name": &"4_hearts",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": ExtResource("7_hnh0c")
}],
"loop": true,
"name": &"4_spades",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": ExtResource("8_7vpre")
}],
"loop": true,
"name": &"6_hearts",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": ExtResource("9_owiqh")
}],
"loop": true,
"name": &"6_spades",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": ExtResource("10_3lg3j")
}],
"loop": true,
"name": &"9_clubs",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": ExtResource("11_u5doo")
}],
"loop": true,
"name": &"9_diamonds",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": ExtResource("12_lux8x")
}],
"loop": true,
"name": &"9_hearts",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": ExtResource("13_slec5")
}],
"loop": true,
"name": &"9_spades",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": ExtResource("6_utepw")
}],
"loop": true,
"name": &"a_clubs",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": ExtResource("15_oge3m")
}],
"loop": true,
"name": &"a_diamonds",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": ExtResource("16_nywsk")
}],
"loop": true,
"name": &"a_hearts",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": ExtResource("17_n0q6h")
}],
"loop": true,
"name": &"a_spades",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": ExtResource("18_unmhq")
}],
"loop": true,
"name": &"card_back",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": ExtResource("19_l4haj")
}],
"loop": true,
"name": &"j_clubs",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": ExtResource("20_orcw1")
}],
"loop": true,
"name": &"j_diamonds",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": ExtResource("21_5mnos")
}],
"loop": true,
"name": &"j_hearts",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": ExtResource("22_gqm8b")
}],
"loop": true,
"name": &"j_spades",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": ExtResource("23_2xxol")
}],
"loop": true,
"name": &"k_clubs",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": ExtResource("24_oo0ci")
}],
"loop": true,
"name": &"k_diamonds",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": ExtResource("25_h0nuh")
}],
"loop": true,
"name": &"k_hearts",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": ExtResource("26_kr1p3")
}],
"loop": true,
"name": &"k_spades",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": ExtResource("27_6wmhi")
}],
"loop": true,
"name": &"q_clubs",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": ExtResource("28_41dqg")
}],
"loop": true,
"name": &"q_diamonds",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": ExtResource("29_cf7gi")
}],
"loop": true,
"name": &"q_hearts",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": ExtResource("29_ju0li")
}],
"loop": true,
"name": &"q_spades",
"speed": 5.0
}]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_8bws0"]
size = Vector2(93, 141)

[node name="card_container" type="StaticBody2D"]
position = Vector2(-13, -3)
collision_layer = 3
collision_mask = 3
input_pickable = true
script = SubResource("GDScript_1fx5e")

[node name="AnimatedSprite2D" type="AnimatedSprite2D" parent="."]
position = Vector2(13, 3)
sprite_frames = SubResource("SpriteFrames_c8te1")
animation = &"q_diamonds"

[node name="CollisionShape2D" type="CollisionShape2D" parent="."]
position = Vector2(13.5, 2.5)
shape = SubResource("RectangleShape2D_8bws0")

[connection signal="input_event" from="." to="." method="_on_input_event"]
[connection signal="mouse_entered" from="." to="." method="_on_mouse_entered"]
